<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Friend Finder</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="materialize/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>

  <div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
      <div class="container">
        <br>
        <br>
        <h1 class="header center grey-text text-lighten-5 thick">Survey</h1>
        <div class="row center">
          <h5 class="header col s12 grey-text text-lighten-5">Answer the questions asbest you can, and we'll find some great minds who think alike</h5>
          <a class="waves-effect waves-light btn center-align" href="/home"><i class="material-icons left">home</i></a>
        </div>
      </div>
    </div>
    <div class="parallax"><img class="responsive-img" src="images/partySweden.jpg" alt="Festival crowd at night"></div>
  </div>

  <div class="container">
    <div class="section">
      <!--   Icon Section   -->
      <div class="row">
        <form class="col s12">
          <div class="row">
            <h3>Your Profile Info</h3>
            <div class="input-field col s6">
              <input id="first_name" type="text" class="qValidate">
              <label for="first_name">First Name</label>
            </div>
            <div class="input-field col s6">
              <input id="last_name" type="text" class="qValidate">
              <label for="last_name">Last Name</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="picture" type="text" class="qValidate">
              <label for="password">Paste a link here to your favorite selfie! (image URL required)</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="fun_fact" type="text" class="qValidate">
              <label for="funfact">Fun Fact about you! (optional)</label>
            </div>
          </div>
        <div class="row">
            <h3 class="surveyHeaderFix">Multiple Choice</h3>
          <div class="input-field col s12">
            <select class="qValidate" id="profQone">
              <option value="" disabled selected></option>
              <option value="1">work with my hands.</option>
              <option value="2">use my creativity.</option>
              <option value="3">work on the road.</option>
              <option value="4">lead a team.</option>
              <option value="5">do nothing at all.</option>
            </select>
            <label>If I could do anything I want for a living, I'd choose to... </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="profQtwo">
              <option value="" disabled selected></option>
              <option value="1">beach.</option>
              <option value="2">mountains.</option>
              <option value="3">forest.</option>
              <option value="4">city.</option>
              <option value="5">suburbs.</option>
            </select>
            <label>If I could live anywhere in the world, I'd aim for the... </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="profQthree">
              <option value="" disabled selected></option>
              <option value="1">music.</option>
              <option value="2">scuplture.</option>
              <option value="3">dance.</option>
              <option value="4">painting.</option>
              <option value="5">film.</option>
            </select>
            <label>The most fascinating artistic medium is... </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="profQfour">
              <option value="" disabled selected></option>
              <option value="1">learning code and developing software.</option>
              <option value="2">some form of martial arts.</option>
              <option value="3">vocational skills such as electrical work and automechanics.</option>
              <option value="4">learning a new musical instrument.</option>
              <option value="5">all of the books collecting dust on my bookcase.</option>
            </select>
            <label>If I was given enough money to spend a full month studying whatever I want, I'd focus on... </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="profQfive">
              <option value="" disabled selected></option>
              <option value="1">at a concert.</option>
              <option value="2">visiting a museum.</option>
              <option value="3">hitting up the stadium to see my favorite sports team.</option>
              <option value="4">catching up on work.</option>
              <option value="5">doing nothing.</option>
            </select>
            <label>I'd prefer to spend my weekend... </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="profQsix">
              <option value="" disabled selected></option>
              <option value="1">Asia.</option>
              <option value="2">Europe.</option>
              <option value="3">Africa.</option>
              <option value="4">Australia.</option>
              <option value="5">South America.</option>
            </select>
            <label>If I could vacation anywhere next week for free, I'd travel to... </label>
          </div>
        </div>
        <div class="row">
          <h3 class="surveyHeaderFix">On a Scale of 1 to 5...</h3>
          <div class="input-field col s12">
            <select class="qValidate" id="survQone">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I'd much rather be outdoors than cramped inside.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQtwo">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I'm a big fan of video games.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQthree">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I don't like eating meat.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQfour">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I don't really care about politics.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQfive">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>It's really hard to offend or upset me. </label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQsix">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I love dogs!</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQseven">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I love cats!</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQeight">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>There's too many billionaires.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQnine">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I love staying out until sunrise.</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <select class="qValidate" id="survQten">
              <option value="" disabled selected></option>
              <option value="1">1 (strongly disagree)</option>
              <option value="2">2</option>
              <option value="3">3 (meh)</option>
              <option value="4">4</option>
              <option value="5">5 (strongly agree)</option>
            </select>
            <label>I rely more on knowledge than imagination.</label>
          </div>
        </div>
        </form>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
      Submit</button>
    </div>

     <hr>

     <footer class="footer">
       <div class="container">
         <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/davidmbedford">GitHub Repo</a></p>
       </div>
     </footer>

   <div id="results-modal" class="modal fade" role="dialog">
    <a class="modal-trigger" href="#modal-match">Modal</a>

  <!-- Modal Structure -->
    <div id="modal-match" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h2><strong>Best Match</strong></h2>
      <h4 id="match-name"></h4>
      <a src="" id="match-img"></a>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
  <script src="materialize/js/materialize.min.js"></script>
  <script src="materialize/js/init.js"></script>

  </body>
</html>

<script type="text/javascript">


   $("#submit").on("click", function(event) {
    event.preventDefault();

    function validateForm() {
        let isValid = true;
        $(".qValidate").each(function() {
          if ($(this).val() === "") {
            isValid = false;
          }
        });

        return isValid;
      };

    if (validateForm()) {

      let newFriend = {
        firstName: $("#first_name").val().trim(),
        lastName: $("#last_name").val().trim(),
        picture: $("#picture").val().trim(),
        funFact: $("#fun_fact").val().trim(),
        pQ1: parseInt($("#profQone").val().trim()),
        pQ2: parseInt($("#profQtwo").val().trim()),
        pQ3: parseInt($("#profQthree").val().trim()),
        pQ4: parseInt($("#profQfour").val().trim()),
        pQ5: parseInt($("#profQfive").val().trim()),
        pQ6: parseInt($("#profQsix").val().trim()),
        scores: [
          parseInt($("#survQone").val().trim()),
          parseInt($("#survQtwo").val().trim()),
          parseInt($("#survQthree").val().trim()),
          parseInt($("#survQfour").val().trim()),
          parseInt($("#survQfive").val().trim()),
          parseInt($("#survQsix").val().trim()),
          parseInt($("#survQseven").val().trim()),
          parseInt($("#survQeight").val().trim()),
          parseInt($("#survQnine").val().trim()),
          parseInt($("#survQten").val().trim())
          ]
        };

      console.log(newFriend);

      $.post("/api/friends", newFriend, function(data) {

        $("#match-name").text(data.firstName + " " + data.lastName);
        $("#match-img").attr("src", data.picture);
        // $("#match-funFact").text(data.funFact);
        // $("#match-pQ1").text(data.pQ1);
        // $("#match-pQ2").text(data.pQ2);
        // $("#match-pQ3").text(data.pQ3);
        // $("#match-pQ4").text(data.pQ4);
        // $("#match-pQ5").text(data.pQ5);
        // $("#match-pQ6").text(data.pQ6);

        $("#modal-match").modal("toggle");

      });
    } else {
      alert("Please fill out all fields!");
    }
  });

    // $.post("/api/tables", newFriend,
    //   function(data) {

    //     // Clear the form when submitting
    //     $("#reserve-name").val("");
    //     $("#reserve-phone").val("");
    //     $("#reserve-email").val("");
    //     $("#reserve-unique-id").val("");

    //   });
</script>
